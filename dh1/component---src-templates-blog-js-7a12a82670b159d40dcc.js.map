{"version":3,"sources":["webpack:///./src/templates/blog.js"],"names":["Blog","props","pageContext","date","content","title","author","contentAfterImg","substring","indexOf","imgTag","imgTagFromSrc","imgSrc","console","log","rawDate","Date","formattedDate","getMonth","getDate","getFullYear","replaceAll","searchString","replaceString","str","split","join","fancyHtml1","fancyHtml3","featuredImg","featuredImage","node","sourceUrl","logo","className","itemProp","itemScope","itemType","dangerouslySetInnerHTML","__html","pageLink","window","location"],"mappings":"qHAAA,qGAgDeA,UArCF,SAAAC,GAEX,MAAyCA,EAAMC,YAAvCC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAASC,EAAvB,EAAuBA,MAAOC,EAA9B,EAA8BA,OACxBC,EAAkBH,EAAQI,UAAUJ,EAAQK,QAAQ,SACpDC,EAASH,EAAgBC,UAAU,EAAGD,EAAgBE,QAAQ,MAC9DE,EAAgBD,EAAOF,UAAUE,EAAOD,QAAQ,UAAY,GAC5DG,EAASD,EAAcH,UAAU,EAAGG,EAAcF,QAAQ,OAChEI,QAAQC,IAAI,aAAab,EAAMC,YAAaC,GAC5C,IAAMY,EAAW,IAAIC,KAAKb,GAEpBc,EADS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAC9FF,EAAQG,YAArB,IAAoCH,EAAQI,UAA5C,KAA0DJ,EAAQK,cAC/EC,EAAa,SAACC,EAAcC,EAAeC,GAC/C,OAAOA,EAAIC,MAAMH,GAAcI,KAAKH,IAEhCI,EAAaN,EAAW,0CAA2C,qDAAsDjB,GAEzHwB,GADaP,EAAW,qBAAsB,KAAMM,GACvCA,GAEnB,OACE,kBAAC,IAAD,CAAQtB,MAAOA,GACb,kBAAC,IAAD,CAAMA,MAAOA,EAAOwB,YAAa5B,EAAMC,YAAY4B,cAAgB7B,EAAMC,YAAY2B,YAAYE,KAAKC,UAAYpB,GAAkBqB,MACpI,uBAAGC,UAAU,cACX,0BAAMA,UAAU,cACbjB,GAFL,MAIA,0BAAMiB,UAAU,qBAAqBC,SAAS,SAASC,UAAU,YAAYC,SAAS,4BAClF,kCAAO,oCAAU/B,MAIrB,yBAAK4B,UAAU,eAAeI,wBAAyB,CAAEC,OAAQX,KAEjE,kBAAC,IAAD,CAAeY,SAA6B,oBAAXC,OAA0BA,OAAOC,SAAW","file":"component---src-templates-blog-js-7a12a82670b159d40dcc.js","sourcesContent":["import React from 'react';\n\nimport Layout from '../components/layout';\nimport Head from '../components/head';\n\nimport { graphql } from 'gatsby';\nimport SocialSharing from '../components/socialSharing';\n\nimport '../styles/blogStyles.css';\nimport logo from '../assets/logo.png';\n\nconst Blog = props => {\n  \n  const { date, content, title, author } = props.pageContext;\n  const contentAfterImg = content.substring(content.indexOf('<img'));\n  const imgTag = contentAfterImg.substring(0, contentAfterImg.indexOf('>'));\n  const imgTagFromSrc = imgTag.substring(imgTag.indexOf(' src=\"') + 6);\n  const imgSrc = imgTagFromSrc.substring(0, imgTagFromSrc.indexOf('\" '));\n  console.log('blogProps:',props.pageContext, date);\n  const rawDate = (new Date(date));\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  const formattedDate = `${months[rawDate.getMonth()]} ${rawDate.getDate()}, ${rawDate.getFullYear()}`\n  const replaceAll = (searchString, replaceString, str) => {\n    return str.split(searchString).join(replaceString);\n  }\n  const fancyHtml1 = replaceAll(' src=\"http://www.atlantavoices.com/dh2/', ' src=\"https://i2.wp.com/www.atlantavoices.com/dh2/', content);\n  const fancyHtml2 = replaceAll('https://i1.wp.com/', '//', fancyHtml1);\n  const fancyHtml3 = fancyHtml1; //replaceAll('https://i2.wp.com/', '//', fancyHtml2);\n\n  return (\n    <Layout title={title}>\n      <Head title={title} featuredImg={props.pageContext.featuredImage ? props.pageContext.featuredImg.node.sourceUrl : imgSrc ? imgSrc : logo} />\n      <p className=\"entry-meta\">\n        <time className=\"entry-time\">\n          {formattedDate}\n        </time> by\n      <span className=\"entry-author vcard\" itemProp=\"author\" itemScope=\"itemscope\" itemType=\"http://schema.org/Person\">\n          <span> <strong> {author}</strong>\n          </span>\n        </span>\n      </p>\n      <div className=\"blog-content\" dangerouslySetInnerHTML={{ __html: fancyHtml3 }}>\n      </div>\n      <SocialSharing pageLink={(typeof window !== 'undefined') ? window.location : '#'} />\n    </Layout>\n  )\n}\n\nexport default Blog;\n\n\nexport const query = graphql`\n  query($id: ID!) {\n    wp {\n    post(id: $id) {\n          date\n          content(format: RENDERED)\n          title(format: RENDERED)\n          slug\n          author {\n            node {\n              name\n            }\n          }\n          featuredImage {\n            node {\n              sourceUrl(size: M)\n            }\n          }\n    }\n  }\n  }`"],"sourceRoot":""}